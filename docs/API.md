# Trackpal API

## Authorization

- **TBD** Get a jwt token that can be used for authenticated requests
```bash
http POST <url>/auth/login <<< \
{"username": "admin", "password": "1234"}
```

- **TBD** Refresh your jwt token (get a new one)
```bash
http POST <url>/auth/refresh "Authorization: Bearer <jwt>"
```

- **TBD** Register a new user account. Sends an activation token to the provided
email address. If the account is not activated withing 24hours it gets deleted.
```bash
http POST <url>/auth/register <<< \
{ \
    "username": "admin", \
    "password": "1234", \
    "email": "me@mail.com", \
    "first_name": "Ken", \
    "last_name": "Thompson" \
} 
```

## Devices

- Get a list of devices owned by you
```bash
http GET <url>/devices "Authorization: Bearer <jwt>"
```

- Create a new device
```bash
http POST <url>/devices "Authorization: Bearer <jwt>" <<< \
{"name": "My gps tracker"}
```


## Tracking Records

- Get all the records that were generated by a target device
```bash
http GET <url>/devices/<deviceID>/entries
```

- Create a new tracking record for a target device
```bash
http POST <url>/devices/<deviceID>/entries <<< \
{ \
    "recorded_at": "2019-10-10T10:19:00Z", \
    "location": {"lat": 12.123, "lng": 12.123} \
}
```
